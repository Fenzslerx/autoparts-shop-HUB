(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{2167:function(e,r,a){Promise.resolve().then(a.t.bind(a,5878,23)),Promise.resolve().then(a.t.bind(a,2972,23)),Promise.resolve().then(a.bind(a,2677)),Promise.resolve().then(a.bind(a,3206))},9376:function(e,r,a){"use strict";var n=a(5475);a.o(n,"useRouter")&&a.d(r,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(r,{useSearchParams:function(){return n.useSearchParams}})},2677:function(e,r,a){"use strict";a.d(r,{default:function(){return i}});var n=a(7437),o=a(2265),t=a(9376),s=a(6586);function i(e){let{onFilterChange:r}=e,a=(0,t.useRouter)(),i=(0,t.useSearchParams)(),[d,l]=(0,o.useState)({search:i.get("search")||"",category:i.get("category")||"",brand:i.get("brand")||"",model:i.get("model")||"",sortBy:i.get("sortBy")||""}),[c,u]=(0,o.useState)(!1),m=s.EK.find(e=>e.id===d.brand),x=(null==m?void 0:m.models)||[];(0,o.useEffect)(()=>{let e=new URLSearchParams;Object.entries(d).forEach(r=>{let[a,n]=r;n&&e.set(a,n)}),a.push("/products?".concat(e.toString()),{scroll:!1}),null==r||r(d)},[d,a,r]);let b=(e,r)=>{l(a=>{let n={...a,[e]:r};return"brand"===e&&(n.model=""),n})},h=Object.values(d).some(e=>""!==e);return(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-[var(--border)] p-6 mb-8",children:[(0,n.jsxs)("div",{className:"relative mb-4",children:[(0,n.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,n.jsx)("input",{type:"text",placeholder:"ค้นหาอะไหล่... (ชื่อ, ยี่ห้อ, รุ่น)",value:d.search,onChange:e=>b("search",e.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-[var(--border)] rounded-xl text-lg focus:outline-none focus:border-[var(--primary)] transition-colors"})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,n.jsx)("button",{onClick:()=>b("category",""),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(""===d.category?"bg-[var(--primary)] text-white":"bg-gray-100 text-[var(--text-secondary)] hover:bg-gray-200"),children:"ทั้งหมด"}),s.bd.slice(0,5).map(e=>(0,n.jsxs)("button",{onClick:()=>b("category",e.id),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(d.category===e.id?"bg-[var(--primary)] text-white":"bg-gray-100 text-[var(--text-secondary)] hover:bg-gray-200"),children:[e.icon," ",e.name]},e.id))]}),(0,n.jsxs)("button",{onClick:()=>u(!c),className:"flex items-center gap-2 text-[var(--primary)] font-medium mb-4",children:[(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(c?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),(0,n.jsx)("span",{children:c?"ซ่อนตัวกรอง":"ตัวกรองเพิ่มเติม"})]}),c&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-[var(--border)]",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"ยี่ห้อรถ"}),(0,n.jsxs)("select",{value:d.brand,onChange:e=>b("brand",e.target.value),className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors",children:[(0,n.jsx)("option",{value:"",children:"ทุกยี่ห้อ"}),s.EK.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"รุ่นรถ"}),(0,n.jsxs)("select",{value:d.model,onChange:e=>b("model",e.target.value),disabled:!d.brand,className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",children:[(0,n.jsx)("option",{value:"",children:"ทุกรุ่น"}),x.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"หมวดหมู่"}),(0,n.jsxs)("select",{value:d.category,onChange:e=>b("category",e.target.value),className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors",children:[(0,n.jsx)("option",{value:"",children:"ทุกหมวดหมู่"}),s.bd.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"เรียงตาม"}),(0,n.jsxs)("select",{value:d.sortBy,onChange:e=>b("sortBy",e.target.value),className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors",children:[(0,n.jsx)("option",{value:"",children:"ล่าสุด"}),(0,n.jsx)("option",{value:"price-asc",children:"ราคาต่ำ - สูง"}),(0,n.jsx)("option",{value:"price-desc",children:"ราคาสูง - ต่ำ"}),(0,n.jsx)("option",{value:"name",children:"ชื่อ ก-ฮ"})]})]})]}),h&&(0,n.jsx)("div",{className:"mt-4 pt-4 border-t border-[var(--border)]",children:(0,n.jsxs)("button",{onClick:()=>{l({search:"",category:"",brand:"",model:"",sortBy:""})},className:"text-sm text-[var(--error)] hover:underline flex items-center gap-1",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"ล้างตัวกรองทั้งหมด"]})})]})}},3206:function(e,r,a){"use strict";a.d(r,{VisitorLogger:function(){return o}});var n=a(2265);function o(e){let{page:r,productId:a}=e,o=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{o.current||(o.current=!0,fetch("/api/logs/visitor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:r,productId:a})}).catch(e=>console.error("Visitor log error:",e)))},[r,a]),null}},6586:function(e,r,a){"use strict";a.d(r,{EK:function(){return o},bd:function(){return n}});let n=[{id:"engine",name:"เครื่องยนต์",icon:"⚙️",count:24},{id:"electrical",name:"ระบบไฟฟ้า",icon:"⚡",count:18},{id:"suspension",name:"ช่วงล่าง",icon:"\uD83D\uDD27",count:15},{id:"brake",name:"ระบบเบรค",icon:"\uD83D\uDED1",count:12},{id:"body",name:"ตัวถังและกระจก",icon:"\uD83D\uDE97",count:20},{id:"interior",name:"ภายในห้องโดยสาร",icon:"\uD83D\uDCBA",count:16},{id:"cooling",name:"ระบบระบายความร้อน",icon:"❄️",count:10},{id:"transmission",name:"ระบบส่งกำลัง",icon:"\uD83D\uDD29",count:8}],o=[{id:"toyota",name:"Toyota",models:[{id:"camry",name:"Camry",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"corolla",name:"Corolla Altis",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"yaris",name:"Yaris",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hilux",name:"Hilux Revo",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"fortuner",name:"Fortuner",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"honda",name:"Honda",models:[{id:"civic",name:"Civic",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"accord",name:"Accord",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"city",name:"City",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"crv",name:"CR-V",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hrv",name:"HR-V",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"mazda",name:"Mazda",models:[{id:"mazda2",name:"Mazda 2",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mazda3",name:"Mazda 3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx3",name:"CX-3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx5",name:"CX-5",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"isuzu",name:"Isuzu",models:[{id:"dmax",name:"D-Max",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mux",name:"MU-X",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"ford",name:"Ford",models:[{id:"ranger",name:"Ranger",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"everest",name:"Everest",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"nissan",name:"Nissan",models:[{id:"almera",name:"Almera",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"navara",name:"Navara",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"kicks",name:"Kicks",years:["2020","2021","2022","2023","2024"]}]}]}},function(e){e.O(0,[972,878,971,117,744],function(){return e(e.s=2167)}),_N_E=e.O()}]);