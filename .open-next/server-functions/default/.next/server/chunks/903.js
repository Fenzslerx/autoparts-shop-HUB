"use strict";exports.id=903,exports.ids=[903],exports.modules={6383:(a,e,r)=>{async function n(a,e=[]){try{let r=globalThis;r.process?.env?.DB;let n=process.env.DB;if(n&&"function"==typeof n.prepare){let r=n.prepare(a).bind(...e);return(await r.all()).results||[]}}catch(a){console.error("D1 Execution Error",a)}return[]}async function t(){return await n("SELECT * FROM products WHERE is_active = 1 ORDER BY created_at DESC")}async function i(a){let e=`prod-${Date.now()}`,r=new Date().toISOString();return await n(`
    INSERT INTO products (id, name, description, price, car_brand, car_model, car_year, category, image_url, stock, is_active, created_at, updated_at)
    VALUES ('${e}', '${a.name}', '${a.description||""}', ${a.price}, '${a.carBrand}', '${a.carModel}', '${a.carYear||""}', '${a.category}', '${a.imageUrl||""}', ${a.stock||0}, 1, '${r}', '${r}')
  `),{...a,id:e,isActive:!0,createdAt:r,updatedAt:r}}r.d(e,{A5:()=>t,OL:()=>n,yP:()=>i})},3974:(a,e,r)=>{r.d(e,{EK:()=>t,T4:()=>c,ax:()=>i,bd:()=>n});let n=[{id:"engine",name:"เครื่องยนต์",icon:"⚙️",count:24},{id:"electrical",name:"ระบบไฟฟ้า",icon:"⚡",count:18},{id:"suspension",name:"ช่วงล่าง",icon:"\uD83D\uDD27",count:15},{id:"brake",name:"ระบบเบรค",icon:"\uD83D\uDED1",count:12},{id:"body",name:"ตัวถังและกระจก",icon:"\uD83D\uDE97",count:20},{id:"interior",name:"ภายในห้องโดยสาร",icon:"\uD83D\uDCBA",count:16},{id:"cooling",name:"ระบบระบายความร้อน",icon:"❄️",count:10},{id:"transmission",name:"ระบบส่งกำลัง",icon:"\uD83D\uDD29",count:8}],t=[{id:"toyota",name:"Toyota",models:[{id:"camry",name:"Camry",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"corolla",name:"Corolla Altis",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"yaris",name:"Yaris",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hilux",name:"Hilux Revo",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"fortuner",name:"Fortuner",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"honda",name:"Honda",models:[{id:"civic",name:"Civic",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"accord",name:"Accord",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"city",name:"City",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"crv",name:"CR-V",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hrv",name:"HR-V",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"mazda",name:"Mazda",models:[{id:"mazda2",name:"Mazda 2",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mazda3",name:"Mazda 3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx3",name:"CX-3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx5",name:"CX-5",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"isuzu",name:"Isuzu",models:[{id:"dmax",name:"D-Max",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mux",name:"MU-X",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"ford",name:"Ford",models:[{id:"ranger",name:"Ranger",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"everest",name:"Everest",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"nissan",name:"Nissan",models:[{id:"almera",name:"Almera",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"navara",name:"Navara",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"kicks",name:"Kicks",years:["2020","2021","2022","2023","2024"]}]}];function i(a){return n.find(e=>e.id===a)}function c(a){return new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(a)}},8948:(a,e,r)=>{r.d(e,{Ir:()=>d,Xp:()=>t,gk:()=>i,nM:()=>c});var n=r(6383);async function t(){try{return(await (0,n.A5)()).map(a=>({id:a.id,name:a.name,description:a.description,price:a.price,carBrand:a.car_brand,carModel:a.car_model,carYear:a.car_year,category:a.category,imageUrl:a.image_url,stock:a.stock,createdAt:a.created_at,updatedAt:a.updated_at}))}catch(a){return console.error("Error fetching products from D1:",a),[]}}async function i(a){try{let e=await (0,n.OL)(`SELECT * FROM products WHERE id = '${a}'`);if(e&&e.length>0){let a=e[0];return{id:a.id,name:a.name,description:a.description,price:a.price,carBrand:a.car_brand,carModel:a.car_model,carYear:a.car_year,category:a.category,imageUrl:a.image_url,stock:a.stock,createdAt:a.created_at,updatedAt:a.updated_at}}return null}catch(a){return console.error("Error fetching product by ID:",a),null}}async function c(a,e){return new Date().toISOString(),null}async function d(a){return await (0,n.OL)(`DELETE FROM products WHERE id = '${a}'`),!0}}};