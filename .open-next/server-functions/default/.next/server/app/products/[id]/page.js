(()=>{var e={};e.id=351,e.ids=[351],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},2938:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(9436),r(6435),r(2523);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9436)),"C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\products\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6435)),"C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,2523)),"C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\products\\[id]\\page.tsx"],u="/products/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/products/[id]/page",pathname:"/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3997:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2481,23)),Promise.resolve().then(r.t.bind(r,9404,23)),Promise.resolve().then(r.bind(r,7161)),Promise.resolve().then(r.bind(r,9942)),Promise.resolve().then(r.bind(r,383))},7161:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(326),a=r(7577);function n({images:e,mainImage:t,productName:r}){let n=e.length>0?e:t?[t]:[],[i,o]=(0,a.useState)(0);return 0===n.length?s.jsx("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:s.jsx("span",{className:"text-6xl",children:"\uD83D\uDCE6"})}):(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-2xl overflow-hidden",children:[s.jsx("img",{src:n[i],alt:`${r} - ${i+1}`,className:"w-full h-full object-cover"}),n.length>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>o(e=>e>0?e-1:n.length-1),className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-lg",children:"◀"}),s.jsx("button",{onClick:()=>o(e=>e<n.length-1?e+1:0),className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-lg",children:"▶"})]}),n.length>1&&(0,s.jsxs)("div",{className:"absolute bottom-3 right-3 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[i+1," / ",n.length]})]}),n.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:n.map((e,t)=>s.jsx("button",{onClick:()=>o(t),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${t===i?"border-[var(--primary)] ring-2 ring-[var(--primary)]/30":"border-transparent hover:border-gray-300"}`,children:s.jsx("img",{src:e,alt:`${r} thumbnail ${t+1}`,className:"w-full h-full object-cover"})},t))})]})}},9942:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(326);function a({productName:e,productId:t,price:r,lineId:a="@mavarix",size:n="lg",fullWidth:i=!1}){let o=encodeURIComponent(`สนใจสินค้า: ${e}${r?` (ราคา: ${r.toLocaleString()} บาท)`:""}
รหัสสินค้า: ${t}

ขอสอบถามรายละเอียดเพิ่มเติมครับ/ค่ะ`),l=`https://line.me/R/oaMessage/${a}/?${o}`;return(0,s.jsxs)("a",{href:l,target:"_blank",rel:"noopener noreferrer",onClick:()=>{fetch("/api/logs/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t,productName:e})}).catch(console.error)},className:`
        inline-flex items-center justify-center
        bg-[var(--line-green)] text-white font-bold rounded-xl
        hover:bg-[var(--line-green-hover)] 
        transition-all duration-300 
        hover:scale-[1.02] hover:shadow-lg hover:shadow-[var(--line-green)]/30
        animate-pulse-line
        ${{sm:"py-2 px-4 text-sm gap-2",md:"py-3 px-6 text-base gap-2",lg:"py-4 px-8 text-lg gap-3"}[n]}
        ${i?"w-full":""}
      `,children:[s.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63.349 0 .631.285.631.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.281.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),s.jsx("span",{children:"ติดต่อสั่งซื้อผ่าน LINE"})]})}},383:(e,t,r)=>{"use strict";r.d(t,{VisitorLogger:()=>a});var s=r(7577);function a({page:e,productId:t}){return(0,s.useRef)(!1),null}},8585:(e,t,r)=>{"use strict";var s=r(1085);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(3953),a=r(6399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return x},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=r(4580),n=r(2934),i=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let n=a.requestAsyncStorage.getStore();return n&&(s.mutableCookies=n.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),n=Number(a);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(n)&&n in i.RedirectStatusCode}function x(e){return u(e)?e.digest.split(";",3)[2]:null}function m(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9436:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,dynamic:()=>m});var s=r(9510),a=r(7371),n=r(8585),i=r(8844),o=r(8570);let l=(0,o.createProxy)(String.raw`C:\Users\Field\Desktop\MAVARIX\src\components\LineContactButton.tsx#default`);var d=r(7838);let c=(0,o.createProxy)(String.raw`C:\Users\Field\Desktop\MAVARIX\src\components\ImageGallery.tsx#default`);var u=r(5748),x=r(6961);let m="force-dynamic";async function p({params:e}){let{id:t}=await e,r=await (0,u.gk)(t);r||(0,n.notFound)();let o=(0,x.ax)(r.category),m=(await (0,u.Xp)()).filter(e=>e.category===r.category&&e.id!==r.id).slice(0,4);return(0,s.jsxs)("div",{className:"min-h-screen bg-[var(--background)]",children:[s.jsx(i.D,{page:"product_detail",productId:r.id}),s.jsx("div",{className:"bg-white border-b border-[var(--border)]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("nav",{className:"flex items-center gap-2 text-sm",children:[s.jsx(a.default,{href:"/",className:"text-[var(--text-muted)] hover:text-[var(--primary)]",children:"หน้าแรก"}),s.jsx("svg",{className:"w-4 h-4 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx(a.default,{href:"/products",className:"text-[var(--text-muted)] hover:text-[var(--primary)]",children:"สินค้า"}),o&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx(a.default,{href:`/products?category=${o.id}`,className:"text-[var(--text-muted)] hover:text-[var(--primary)]",children:o.name})]}),s.jsx("svg",{className:"w-4 h-4 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("span",{className:"text-[var(--text-primary)] font-medium truncate max-w-[200px]",children:r.name})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-[var(--border)] overflow-hidden",children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-0",children:[(0,s.jsxs)("div",{className:"relative lg:aspect-auto lg:h-full p-4 lg:p-6",children:[s.jsx(c,{images:r.images||[],mainImage:r.imageUrl,productName:r.name}),(0,s.jsxs)("div",{className:"absolute top-8 left-8 flex flex-wrap gap-2 z-10",children:[s.jsx("span",{className:"badge badge-primary bg-white/90 backdrop-blur-sm text-sm",children:r.carBrand}),o&&(0,s.jsxs)("span",{className:"badge badge-secondary bg-white/90 backdrop-blur-sm text-sm",children:[o.icon," ",o.name]})]})]}),(0,s.jsxs)("div",{className:"p-8 lg:p-12 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.jsxs)("span",{className:"px-4 py-2 bg-[var(--background)] rounded-full text-sm font-medium text-[var(--text-secondary)]",children:["\uD83D\uDE97 ",r.carModel]}),(0,s.jsxs)("span",{className:"px-4 py-2 bg-[var(--background)] rounded-full text-sm font-medium text-[var(--text-secondary)]",children:["\uD83D\uDCC5 ปี ",r.carYear]})]}),s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-[var(--text-primary)] mb-4",children:r.name}),s.jsx("div",{className:"mb-6",children:s.jsx("span",{className:"text-4xl lg:text-5xl font-bold text-[var(--primary)]",children:(0,x.T4)(r.price)})}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:r.stock>5?(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-[var(--success)]"}),(0,s.jsxs)("span",{className:"text-[var(--success)] font-medium",children:["มีสินค้า (",r.stock," ชิ้น)"]})]}):r.stock>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-orange-500"}),(0,s.jsxs)("span",{className:"text-orange-500 font-medium",children:["เหลือน้อย (",r.stock," ชิ้น)"]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-[var(--error)]"}),s.jsx("span",{className:"text-[var(--error)] font-medium",children:"สินค้าหมด"})]})}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h2",{className:"font-semibold text-[var(--text-primary)] mb-2",children:"รายละเอียดสินค้า"}),s.jsx("p",{className:"text-[var(--text-secondary)] leading-relaxed",children:r.description||"ไม่มีรายละเอียด"})]}),(0,s.jsxs)("div",{className:"mb-8 p-4 bg-[var(--background)] rounded-xl",children:[s.jsx("h2",{className:"font-semibold text-[var(--text-primary)] mb-3",children:"ข้อมูลจำเพาะ"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:"ยี่ห้อรถ:"}),s.jsx("span",{className:"ml-2 font-medium text-[var(--text-primary)]",children:r.carBrand})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:"รุ่นรถ:"}),s.jsx("span",{className:"ml-2 font-medium text-[var(--text-primary)]",children:r.carModel})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:"ปีรถ:"}),s.jsx("span",{className:"ml-2 font-medium text-[var(--text-primary)]",children:r.carYear})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:"รหัสสินค้า:"}),s.jsx("span",{className:"ml-2 font-medium text-[var(--text-primary)]",children:r.id})]})]})]}),(0,s.jsxs)("div",{className:"mt-auto",children:[s.jsx(l,{productName:r.name,productId:r.id,price:r.price,fullWidth:!0}),s.jsx("p",{className:"text-center text-sm text-[var(--text-muted)] mt-3",children:"กดปุ่มเพื่อสอบถามหรือสั่งซื้อผ่าน LINE ได้ทันที"})]})]})]})})}),m.length>0&&(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-6",children:"สินค้าที่เกี่ยวข้อง"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map(e=>s.jsx(d.Z,{product:e},e.id))})]})]})}},7838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(9510),a=r(7710),n=r(7371),i=r(6961);function o({product:e}){return s.jsx(n.default,{href:`/products/${e.id}`,children:(0,s.jsxs)("article",{className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 card-hover border border-[var(--border)]",children:[(0,s.jsxs)("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[s.jsx(a.default,{src:e.imageUrl,alt:e.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"badge badge-primary backdrop-blur-sm bg-white/90",children:e.carBrand})}),e.stock<=5&&e.stock>0&&s.jsx("div",{className:"absolute top-3 right-3",children:(0,s.jsxs)("span",{className:"badge bg-orange-100 text-orange-600",children:["เหลือ ",e.stock," ชิ้น"]})})]}),(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[var(--text-secondary)] mb-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("span",{children:[e.carModel," | ",e.carYear]})]}),s.jsx("h3",{className:"font-bold text-lg text-[var(--text-primary)] mb-2 line-clamp-2 group-hover:text-[var(--primary)] transition-colors",children:e.name}),s.jsx("p",{className:"text-sm text-[var(--text-secondary)] line-clamp-2 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("span",{className:"text-2xl font-bold text-[var(--primary)]",children:(0,i.T4)(e.price)})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[var(--line-green)] font-semibold text-sm",children:[s.jsx("span",{children:"ดูรายละเอียด"}),s.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})}},8844:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Users\Field\Desktop\MAVARIX\src\components\VisitorLogger.tsx#VisitorLogger`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,990,71,111,453],()=>r(2938));module.exports=s})();