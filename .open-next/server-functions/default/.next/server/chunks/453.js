"use strict";exports.id=453,exports.ids=[453],exports.modules={3423:(e,r,a)=>{a.d(r,{A5:()=>c,OL:()=>t,yP:()=>o});var n=a(3358);async function t(e,r=[]){try{let{env:a}=(0,n.getRequestContext)(),t=a.DB;if(!t){console.error("DB binding not found in request context");let a=globalThis;if(a.process?.env?.DB&&"function"==typeof a.process.env.DB.prepare)return await i(a.process.env.DB,e,r);return[]}return await i(t,e,r)}catch(e){return console.error("D1 Execution Error",e),[]}}async function i(e,r,a){try{let n=e.prepare(r).bind(...a);return(await n.all()).results||[]}catch(e){throw console.error("Query Error",e),e}}async function c(){return await t("SELECT * FROM products WHERE is_active = 1 ORDER BY created_at DESC")}async function o(e){let r=`prod-${Date.now()}`,a=new Date().toISOString();return await t(`
    INSERT INTO products (id, name, description, price, car_brand, car_model, car_year, category, image_url, stock, is_active, created_at, updated_at)
    VALUES ('${r}', '${e.name}', '${e.description||""}', ${e.price}, '${e.carBrand}', '${e.carModel}', '${e.carYear||""}', '${e.category}', '${e.imageUrl||""}', ${e.stock||0}, 1, '${a}', '${a}')
  `),{...e,id:r,isActive:!0,createdAt:a,updatedAt:a}}},6961:(e,r,a)=>{a.d(r,{EK:()=>t,T4:()=>c,ax:()=>i,bd:()=>n});let n=[{id:"engine",name:"เครื่องยนต์",icon:"⚙️",count:24},{id:"electrical",name:"ระบบไฟฟ้า",icon:"⚡",count:18},{id:"suspension",name:"ช่วงล่าง",icon:"\uD83D\uDD27",count:15},{id:"brake",name:"ระบบเบรค",icon:"\uD83D\uDED1",count:12},{id:"body",name:"ตัวถังและกระจก",icon:"\uD83D\uDE97",count:20},{id:"interior",name:"ภายในห้องโดยสาร",icon:"\uD83D\uDCBA",count:16},{id:"cooling",name:"ระบบระบายความร้อน",icon:"❄️",count:10},{id:"transmission",name:"ระบบส่งกำลัง",icon:"\uD83D\uDD29",count:8}],t=[{id:"toyota",name:"Toyota",models:[{id:"camry",name:"Camry",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"corolla",name:"Corolla Altis",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"yaris",name:"Yaris",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hilux",name:"Hilux Revo",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"fortuner",name:"Fortuner",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"honda",name:"Honda",models:[{id:"civic",name:"Civic",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"accord",name:"Accord",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"city",name:"City",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"crv",name:"CR-V",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hrv",name:"HR-V",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"mazda",name:"Mazda",models:[{id:"mazda2",name:"Mazda 2",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mazda3",name:"Mazda 3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx3",name:"CX-3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx5",name:"CX-5",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"isuzu",name:"Isuzu",models:[{id:"dmax",name:"D-Max",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mux",name:"MU-X",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"ford",name:"Ford",models:[{id:"ranger",name:"Ranger",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"everest",name:"Everest",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"nissan",name:"Nissan",models:[{id:"almera",name:"Almera",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"navara",name:"Navara",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"kicks",name:"Kicks",years:["2020","2021","2022","2023","2024"]}]}];function i(e){return n.find(r=>r.id===e)}function c(e){return new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(e)}},5748:(e,r,a)=>{a.d(r,{Ir:()=>o,Xp:()=>t,gk:()=>i,nM:()=>c});var n=a(3423);async function t(){try{return(await (0,n.A5)()).map(e=>({id:e.id,name:e.name,description:e.description,price:e.price,carBrand:e.car_brand,carModel:e.car_model,carYear:e.car_year,category:e.category,imageUrl:e.image_url,stock:e.stock,createdAt:e.created_at,updatedAt:e.updated_at}))}catch(e){return console.error("Error fetching products from D1:",e),[]}}async function i(e){try{let r=await (0,n.OL)("SELECT * FROM products WHERE id = ?",[e]);if(r&&r.length>0){let e=r[0];return{id:e.id,name:e.name,description:e.description,price:e.price,carBrand:e.car_brand,carModel:e.car_model,carYear:e.car_year,category:e.category,imageUrl:e.image_url,stock:e.stock,createdAt:e.created_at,updatedAt:e.updated_at}}return null}catch(e){return console.error("Error fetching product by ID:",e),null}}async function c(e,r){return new Date().toISOString(),null}async function o(e){return await (0,n.OL)("DELETE FROM products WHERE id = ?",[e]),!0}}};