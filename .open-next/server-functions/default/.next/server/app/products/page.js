(()=>{var e={};e.id=286,e.ids=[286],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},483:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l}),a(8424),a(1478),a(9198);var s=a(170),t=a(5002),o=a(3876),n=a.n(o),i=a(6299),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(r,d);let l=["",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8424)),"C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\products\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1478)),"C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,9198)),"C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Field\\Desktop\\MAVARIX\\src\\app\\products\\page.tsx"],m="/products/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/products/page",pathname:"/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4189:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,5889,23)),Promise.resolve().then(a.t.bind(a,4080,23)),Promise.resolve().then(a.bind(a,4114)),Promise.resolve().then(a.bind(a,5721))},4178:(e,r,a)=>{"use strict";var s=a(5289);a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},4114:(e,r,a)=>{"use strict";a.d(r,{default:()=>i});var s=a(7247),t=a(8964),o=a(4178),n=a(6155);function i({onFilterChange:e}){(0,o.useRouter)();let r=(0,o.useSearchParams)(),[a,i]=(0,t.useState)({search:r.get("search")||"",category:r.get("category")||"",brand:r.get("brand")||"",model:r.get("model")||"",sortBy:r.get("sortBy")||""}),[d,l]=(0,t.useState)(!1),c=n.EK.find(e=>e.id===a.brand),m=c?.models||[],u=(e,r)=>{i(a=>{let s={...a,[e]:r};return"brand"===e&&(s.model=""),s})},x=Object.values(a).some(e=>""!==e);return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-[var(--border)] p-6 mb-8",children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[s.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"ค้นหาอะไหล่... (ชื่อ, ยี่ห้อ, รุ่น)",value:a.search,onChange:e=>u("search",e.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-[var(--border)] rounded-xl text-lg focus:outline-none focus:border-[var(--primary)] transition-colors"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx("button",{onClick:()=>u("category",""),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${""===a.category?"bg-[var(--primary)] text-white":"bg-gray-100 text-[var(--text-secondary)] hover:bg-gray-200"}`,children:"ทั้งหมด"}),n.bd.slice(0,5).map(e=>(0,s.jsxs)("button",{onClick:()=>u("category",e.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a.category===e.id?"bg-[var(--primary)] text-white":"bg-gray-100 text-[var(--text-secondary)] hover:bg-gray-200"}`,children:[e.icon," ",e.name]},e.id))]}),(0,s.jsxs)("button",{onClick:()=>l(!d),className:"flex items-center gap-2 text-[var(--primary)] font-medium mb-4",children:[s.jsx("svg",{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),s.jsx("span",{children:d?"ซ่อนตัวกรอง":"ตัวกรองเพิ่มเติม"})]}),d&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-[var(--border)]",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"ยี่ห้อรถ"}),(0,s.jsxs)("select",{value:a.brand,onChange:e=>u("brand",e.target.value),className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors",children:[s.jsx("option",{value:"",children:"ทุกยี่ห้อ"}),n.EK.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"รุ่นรถ"}),(0,s.jsxs)("select",{value:a.model,onChange:e=>u("model",e.target.value),disabled:!a.brand,className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"ทุกรุ่น"}),m.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"หมวดหมู่"}),(0,s.jsxs)("select",{value:a.category,onChange:e=>u("category",e.target.value),className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors",children:[s.jsx("option",{value:"",children:"ทุกหมวดหมู่"}),n.bd.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"เรียงตาม"}),(0,s.jsxs)("select",{value:a.sortBy,onChange:e=>u("sortBy",e.target.value),className:"w-full p-3 border-2 border-[var(--border)] rounded-xl focus:outline-none focus:border-[var(--primary)] transition-colors",children:[s.jsx("option",{value:"",children:"ล่าสุด"}),s.jsx("option",{value:"price-asc",children:"ราคาต่ำ - สูง"}),s.jsx("option",{value:"price-desc",children:"ราคาสูง - ต่ำ"}),s.jsx("option",{value:"name",children:"ชื่อ ก-ฮ"})]})]})]}),x&&s.jsx("div",{className:"mt-4 pt-4 border-t border-[var(--border)]",children:(0,s.jsxs)("button",{onClick:()=>{i({search:"",category:"",brand:"",model:"",sortBy:""})},className:"text-sm text-[var(--error)] hover:underline flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"ล้างตัวกรองทั้งหมด"]})})]})}},5721:(e,r,a)=>{"use strict";a.d(r,{VisitorLogger:()=>t});var s=a(8964);function t({page:e,productId:r}){return(0,s.useRef)(!1),null}},6155:(e,r,a)=>{"use strict";a.d(r,{EK:()=>t,bd:()=>s});let s=[{id:"engine",name:"เครื่องยนต์",icon:"⚙️",count:24},{id:"electrical",name:"ระบบไฟฟ้า",icon:"⚡",count:18},{id:"suspension",name:"ช่วงล่าง",icon:"\uD83D\uDD27",count:15},{id:"brake",name:"ระบบเบรค",icon:"\uD83D\uDED1",count:12},{id:"body",name:"ตัวถังและกระจก",icon:"\uD83D\uDE97",count:20},{id:"interior",name:"ภายในห้องโดยสาร",icon:"\uD83D\uDCBA",count:16},{id:"cooling",name:"ระบบระบายความร้อน",icon:"❄️",count:10},{id:"transmission",name:"ระบบส่งกำลัง",icon:"\uD83D\uDD29",count:8}],t=[{id:"toyota",name:"Toyota",models:[{id:"camry",name:"Camry",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"corolla",name:"Corolla Altis",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"yaris",name:"Yaris",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hilux",name:"Hilux Revo",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"fortuner",name:"Fortuner",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"honda",name:"Honda",models:[{id:"civic",name:"Civic",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"accord",name:"Accord",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"city",name:"City",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"crv",name:"CR-V",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"hrv",name:"HR-V",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"mazda",name:"Mazda",models:[{id:"mazda2",name:"Mazda 2",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mazda3",name:"Mazda 3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx3",name:"CX-3",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"cx5",name:"CX-5",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"isuzu",name:"Isuzu",models:[{id:"dmax",name:"D-Max",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"mux",name:"MU-X",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"ford",name:"Ford",models:[{id:"ranger",name:"Ranger",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"everest",name:"Everest",years:["2018","2019","2020","2021","2022","2023","2024"]}]},{id:"nissan",name:"Nissan",models:[{id:"almera",name:"Almera",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"navara",name:"Navara",years:["2018","2019","2020","2021","2022","2023","2024"]},{id:"kicks",name:"Kicks",years:["2020","2021","2022","2023","2024"]}]}]},8424:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c,dynamic:()=>m});var s=a(2051),t=a(6269),o=a(9425);let n=(0,a(5347).createProxy)(String.raw`C:\Users\Field\Desktop\MAVARIX\src\components\SearchFilter.tsx#default`);var i=a(9069),d=a(8948),l=a(3974);async function c({searchParams:e}){let r=await e,a=function(e,r){let a=[...e];if(r.search){let e=r.search.toLowerCase();a=a.filter(r=>r.name.toLowerCase().includes(e)||r.carBrand.toLowerCase().includes(e)||r.carModel.toLowerCase().includes(e)||r.description.toLowerCase().includes(e))}if(r.category&&(a=a.filter(e=>e.category===r.category)),r.brand){let e=l.EK.find(e=>e.id===r.brand);e&&(a=a.filter(r=>r.carBrand.toLowerCase()===e.name.toLowerCase()))}if(r.model){let e=l.EK.find(e=>e.id===r.brand),s=e?.models.find(e=>e.id===r.model);s&&(a=a.filter(e=>e.carModel.toLowerCase()===s.name.toLowerCase()))}switch(r.sortBy){case"price-asc":a.sort((e,r)=>e.price-r.price);break;case"price-desc":a.sort((e,r)=>r.price-e.price);break;case"name":a.sort((e,r)=>e.name.localeCompare(r.name,"th"));break;default:a.sort((e,r)=>new Date(r.createdAt).getTime()-new Date(e.createdAt).getTime())}return a}(await (0,d.Xp)(),r),c=r.category?l.ax(r.category)?.name:null,m=r.brand?l.EK.find(e=>e.id===r.brand):null;return(0,s.jsxs)("div",{className:"min-h-screen bg-[var(--background)]",children:[s.jsx(i.D,{page:"products"}),s.jsx("div",{className:"bg-white border-b border-[var(--border)]",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[var(--text-primary)]",children:c?`${c}`:m?`อะไหล่ ${m.name}`:"สินค้าทั้งหมด"}),(0,s.jsxs)("p",{className:"text-[var(--text-secondary)] mt-2",children:["พบ ",a.length," รายการ"]})]})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(t.Suspense,{fallback:s.jsx("div",{className:"h-32 bg-white rounded-2xl animate-pulse"}),children:s.jsx(n,{})}),a.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(e=>s.jsx(o.Z,{product:e},e.id))}):(0,s.jsxs)("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),s.jsx("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-2",children:"ไม่พบสินค้า"}),s.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"ลองค้นหาด้วยคำอื่น หรือล้างตัวกรอง"}),s.jsx("a",{href:"/products",className:"btn-primary inline-block",children:"ดูสินค้าทั้งหมด"})]})]})]})}let m="force-dynamic"},9425:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});var s=a(2051),t=a(9624),o=a(2349),n=a(3974);function i({product:e}){return s.jsx(o.default,{href:`/products/${e.id}`,children:(0,s.jsxs)("article",{className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 card-hover border border-[var(--border)]",children:[(0,s.jsxs)("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[s.jsx(t.default,{src:e.imageUrl,alt:e.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-500",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"badge badge-primary backdrop-blur-sm bg-white/90",children:e.carBrand})}),e.stock<=5&&e.stock>0&&s.jsx("div",{className:"absolute top-3 right-3",children:(0,s.jsxs)("span",{className:"badge bg-orange-100 text-orange-600",children:["เหลือ ",e.stock," ชิ้น"]})})]}),(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[var(--text-secondary)] mb-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("span",{children:[e.carModel," | ",e.carYear]})]}),s.jsx("h3",{className:"font-bold text-lg text-[var(--text-primary)] mb-2 line-clamp-2 group-hover:text-[var(--primary)] transition-colors",children:e.name}),s.jsx("p",{className:"text-sm text-[var(--text-secondary)] line-clamp-2 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("span",{className:"text-2xl font-bold text-[var(--primary)]",children:(0,n.T4)(e.price)})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[var(--line-green)] font-semibold text-sm",children:[s.jsx("span",{children:"ดูรายละเอียด"}),s.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})}},9069:(e,r,a)=>{"use strict";a.d(r,{D:()=>s});let s=(0,a(5347).createProxy)(String.raw`C:\Users\Field\Desktop\MAVARIX\src\components\VisitorLogger.tsx#VisitorLogger`)}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[379,542,316,883,903],()=>a(483));module.exports=s})();